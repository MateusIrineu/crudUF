<po-page p-title="Produtos">
  <po-page-content class="po-row">
    <div class="po-md-12 po-lg-12">
      <po-button 
        p-label="Novo Produto" 
        p-kind="primary"
        p-icon="po-icon-plus"
        [routerLink]="['/produtos/novo']">
      </po-button>
    </div>

    <div class="po-md-12 po-lg-12 po-mt-2">
      <po-table
        [p-items]="produtos"
        [p-columns]="columns"
        [p-loading]="isLoading"
        p-striped="true"
        p-sort="true">
        
        <ng-template p-table-row-template let-rowItem>
          <po-table-row [p-item]="rowItem">
            <po-table-cell>
              <po-button
                p-label="Editar"
                p-kind="secondary"
                p-size="small"
                p-icon="po-icon-edit"
                [routerLink]="['/produtos', rowItem.id]">
              </po-button>
              <po-button
                p-label="Deletar"
                p-kind="danger"
                p-size="small"
                p-icon="po-icon-delete"
                (p-click)="abrirModalDelecao(rowItem)">
              </po-button>
            </po-table-cell>
          </po-table-row>
        </ng-template>
      </po-table>
    </div>
  </po-page-content>
</po-page>

<!-- Modal de Confirmação de Deleção -->
<po-modal
  p-title="Confirmar Exclusão"
  [p-primary-action]="{ label: 'Excluir', action: confirmarDelecao.bind(this) }"
  [p-secondary-action]="{ label: 'Cancelar', action: cancelarDelecao.bind(this) }"
  [p-visible]="!!produtoSelecionado">
  <p *ngIf="produtoSelecionado">
    Tem certeza que deseja deletar <strong>{{ produtoSelecionado.nome }}</strong>?
  </p>
</po-modal>
